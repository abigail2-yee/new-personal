<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Abby Shen</title>
  <link rel="icon" type="image/png" href="imgs/0-lamp-ideas.png">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      background-color: #F5F5DC;
      min-height: 100vh;
      font-family: Arial, sans-serif;
      overflow-x: hidden;
      position: relative;
    }

    @font-face {
      font-family: 'NyghtSerif-LightItalic';
      src: url('fonts/NyghtSerif-LightItalic.ttf') format('truetype');
      font-weight: 300;
      font-style: italic;
      font-display: swap;
    }

    @font-face {
      font-family: 'NyghtSerif-RegularItalic';
      src: url('fonts/NyghtSerif-RegularItalic.ttf') format('truetype');
      font-weight: 400;
      font-style: italic;
      font-display: swap;
    }

    /* News ticker - responsive */
    .news-ticker {
      position: fixed;
      top: 0;
      width: 100%;
      height: clamp(2rem, 4vw, 3.75rem);
      background-color: #F5F5DC;
      color: #F57C00;
      font-family: 'NyghtSerif-LightItalic', Georgia, 'Times New Roman', serif;
      overflow: hidden;
      z-index: 9999;
      display: flex;
      align-items: center;
    }

    .ticker-text {
      white-space: nowrap;
      padding-left: 100%;
      font-size: clamp(0.75rem, 2vw, 1.25rem);
      animation: scroll-left 45s linear infinite;
    }
    
    @keyframes scroll-left {
      0% {
        transform: translateX(0%);
      }
      100% {
        transform: translateX(-100%);
      }
    }

    /* Main container for layout */
    .main-container {
      min-height: 100vh;
      padding-top: clamp(2rem, 4vw, 3.75rem);
      display: flex;
      flex-direction: column;
      position: relative;
    }

    /* Text container - responsive positioning */
    .text-container {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      z-index: 10;
      pointer-events: none;
      width: min(90vw, 50rem);
      padding: 1rem;
    }

    #welcome-text {
      font-size: clamp(1.5rem, 4vw, 3rem);
      font-family: 'NyghtSerif-LightItalic', Georgia, 'Times New Roman', serif;
      color: #333;
      margin-bottom: clamp(1rem, 2vw, 2rem);
      line-height: 1.2;
    }

    #subheading {
      font-size: clamp(1rem, 2.5vw, 1.5rem);
      font-family: 'NyghtSerif-LightItalic', Georgia, 'Times New Roman', serif;
      color: #333;
      line-height: 1.3;
    }

    /* Image container for better organization */
    .images-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1;
    }

    /* Responsive images */
    .static-image {
      position: absolute;
      transition: transform 0.3s ease;
      object-fit: cover;
      cursor: pointer;
      max-width: min(20vw, 12rem);
      max-height: min(20vw, 12rem);
      width: auto;
      height: auto;
    }

    .static-image:hover {
      transform: scale(1.1);
    }

    .static-image:active {
      transform: scale(1.05);
    }

    /* Specific image sizing using CSS custom properties for flexibility */
    #image1 {
      --base-size: min(18vw, 11rem);
      width: var(--base-size);
      height: var(--base-size);
    }

    #image2 {
      --base-size: min(12vw, 7.5rem);
      width: var(--base-size);
      height: var(--base-size);
    }

    #image3 {
      --base-size: min(15vw, 9.5rem);
      width: var(--base-size);
      height: var(--base-size);
    }

    #image4 {
      --base-size: min(12vw, 7.5rem);
      width: var(--base-size);
      height: var(--base-size);
    }

    #image5 {
      --base-size: min(14vw, 8.5rem);
      width: var(--base-size);
      height: var(--base-size);
    }

    /* Mobile-first responsive adjustments */
    @media screen and (max-width: 48rem) {
      .ticker-text {
        animation: scroll-left 30s linear infinite;
      }

      .text-container {
        width: 95vw;
        top: 45%;
      }

      .static-image {
        max-width: min(25vw, 10rem);
        max-height: min(25vw, 10rem);
      }

      #image1 { --base-size: min(22vw, 9rem); }
      #image2 { --base-size: min(16vw, 6.5rem); }
      #image3 { --base-size: min(19vw, 7.5rem); }
      #image4 { --base-size: min(16vw, 6.5rem); }
      #image5 { --base-size: min(18vw, 7rem); }
    }

    /* Very small screens */
    @media screen and (max-width: 30rem) {
      .text-container {
        top: 40%;
        width: 98vw;
      }

      .static-image {
        max-width: min(30vw, 8rem);
        max-height: min(30vw, 8rem);
      }

      #image1 { --base-size: min(25vw, 7rem); }
      #image2 { --base-size: min(18vw, 5rem); }
      #image3 { --base-size: min(22vw, 6rem); }
      #image4 { --base-size: min(18vw, 5rem); }
      #image5 { --base-size: min(20vw, 5.5rem); }
    }

    /* Large screens */
    @media screen and (min-width: 64rem) {
      .text-container {
        width: min(40vw, 40rem);
      }

      .ticker-text {
        font-size: clamp(1rem, 1.5vw, 1.5rem);
      }

      #image1 { --base-size: min(16vw, 14rem); }
      #image2 { --base-size: min(10vw, 9rem); }
      #image3 { --base-size: min(13vw, 11rem); }
      #image4 { --base-size: min(10vw, 9rem); }
      #image5 { --base-size: min(12vw, 10rem); }
    }

    /* Ultra-wide screens */
    @media screen and (min-width: 100rem) {
      .text-container {
        width: min(25vw, 35rem);
      }

      #image1 { --base-size: min(12vw, 16rem); }
      #image2 { --base-size: min(8vw, 11rem); }
      #image3 { --base-size: min(10vw, 13rem); }
      #image4 { --base-size: min(8vw, 11rem); }
      #image5 { --base-size: min(9vw, 12rem); }
    }
  </style>
</head>
<body>
  <div class="news-ticker">
    <div class="ticker-text">
      name: abby shen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      job: chief of staff&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      mbti: enfj-a&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      enneagram: 8, the challenger&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      zodiac: cancer&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
      "Tell me, what is it you want to do with your one wild and precious life" - Mary Oliver&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </div>
  </div>

  <div class="main-container">
    <div class="images-container">
      <img class="static-image" id="image1" src="imgs/0-lamp-ideas.png" alt="Lamp Ideas" aria-label="Navigate to Ideas page" onclick="goToIdeas()">
      <img class="static-image" id="image2" src="imgs/1-book.png" alt="Book" aria-label="Navigate to Books page" onclick="goToBooks()">
      <img class="static-image" id="image3" src="imgs/2-food.png" alt="Food" aria-label="Navigate to Food page" onclick="goToFood()">
      <img class="static-image" id="image4" src="imgs/3-travel.png" alt="Travel" aria-label="Navigate to Travel page" onclick="goToTravel()">
      <img class="static-image" id="image5" src="imgs/4-photog.png" alt="Photography" aria-label="Navigate to Photography page" onclick="goToPhotography()">
    </div>

    <div class="text-container">
      <div id="welcome-text">welcome to abby's little nook on the internet</div>
      <div id="subheading">designed to be a second brain</div>
    </div>
  </div>

  <script>
    class ResponsiveImage {
      constructor(element) {
        this.element = element;
        this.updateDimensions();
      }

      updateDimensions() {
        const rect = this.element.getBoundingClientRect();
        this.width = rect.width;
        this.height = rect.height;
      }

      setPosition(x, y) {
        this.element.style.left = x + 'px';
        this.element.style.top = y + 'px';
      }
    }

    const cursorImages = [
      'cursors/c_13.png',
      'cursors/c_15.png',
      'cursors/c_25.png',
      'cursors/c_101.png',
      'cursors/c_359.png'
    ];

    function setRandomCursor() {
      const randomCursor = cursorImages[Math.floor(Math.random() * cursorImages.length)];
      document.body.style.cursor = `url('${randomCursor}') 16 16, auto`;
    }

    function goToIdeas() {
      window.location.href = '0-lamp-ideas.html';
    }

    function goToBooks() {
      window.location.href = '1-book.html';
    }

    function goToFood() {
      window.location.href = '2-food.html';
    }

    function goToTravel() {
      window.location.href = '3-travel.html';
    }

    function goToPhotography() {
      window.location.href = 'https://www.abbyshen.com/photography/leica-q2';
    }

    let images = [];
    let resizeTimeout;

    function initializeImages() {
      images = [
        new ResponsiveImage(document.getElementById('image1')),
        new ResponsiveImage(document.getElementById('image2')),
        new ResponsiveImage(document.getElementById('image3')),
        new ResponsiveImage(document.getElementById('image4')),
        new ResponsiveImage(document.getElementById('image5'))
      ];
    }

    function generateResponsivePositions() {
      if (images.length === 0) return;

      const positions = [];
      const minDistance = Math.max(20, window.innerWidth * 0.02); // Responsive minimum distance
      const maxAttempts = 150;
      const viewportPadding = Math.max(10, window.innerWidth * 0.01); // Responsive padding

      // Update all image dimensions
      images.forEach(image => image.updateDimensions());

      // Get text container boundaries with responsive buffer
      const textContainer = document.querySelector('.text-container');
      const textRect = textContainer.getBoundingClientRect();
      const textBuffer = Math.max(30, window.innerWidth * 0.05); // Responsive buffer around text
      
      const textBounds = {
        x: Math.max(0, textRect.left - textBuffer),
        y: Math.max(0, textRect.top - textBuffer),
        width: textRect.width + (textBuffer * 2),
        height: textRect.height + (textBuffer * 2)
      };

      // Account for ticker height
      const tickerHeight = document.querySelector('.news-ticker').getBoundingClientRect().height;

      for (let i = 0; i < images.length; i++) {
        let validPosition = false;
        let attempts = 0;
        let x, y;

        while (!validPosition && attempts < maxAttempts) {
          // Generate position with responsive constraints
          const maxX = window.innerWidth - images[i].width - viewportPadding;
          const maxY = window.innerHeight - images[i].height - viewportPadding;
          
          x = viewportPadding + Math.random() * (maxX - viewportPadding);
          y = tickerHeight + viewportPadding + Math.random() * (maxY - tickerHeight - viewportPadding);

          validPosition = true;

          // Check overlap with other images
          for (let j = 0; j < positions.length; j++) {
            const other = images[j];
            const existing = positions[j];

            const overlap = !(
              x > existing.x + other.width + minDistance ||
              x + images[i].width + minDistance < existing.x ||
              y > existing.y + other.height + minDistance ||
              y + images[i].height + minDistance < existing.y
            );

            if (overlap) {
              validPosition = false;
              break;
            }
          }

          // Check overlap with text container
          if (validPosition) {
            const overlapsText = !(
              x + images[i].width < textBounds.x ||
              x > textBounds.x + textBounds.width ||
              y + images[i].height < textBounds.y ||
              y > textBounds.y + textBounds.height
            );

            if (overlapsText) {
              validPosition = false;
            }
          }

          attempts++;
        }

        // Fallback positioning if no valid position found
        if (!validPosition) {
          const fallbackPositions = [
            { x: viewportPadding, y: tickerHeight + viewportPadding },
            { x: window.innerWidth - images[i].width - viewportPadding, y: tickerHeight + viewportPadding },
            { x: viewportPadding, y: window.innerHeight - images[i].height - viewportPadding },
            { x: window.innerWidth - images[i].width - viewportPadding, y: window.innerHeight - images[i].height - viewportPadding },
            { x: window.innerWidth / 4, y: tickerHeight + viewportPadding }
          ];
          
          const fallback = fallbackPositions[i % fallbackPositions.length];
          x = Math.max(viewportPadding, Math.min(fallback.x, window.innerWidth - images[i].width - viewportPadding));
          y = Math.max(tickerHeight + viewportPadding, Math.min(fallback.y, window.innerHeight - images[i].height - viewportPadding));
        }

        positions.push({ x, y });
        images[i].setPosition(x, y);
      }
    }

    function handleResize() {
      clearTimeout(resizeTimeout);
      resizeTimeout = setTimeout(() => {
        generateResponsivePositions();
      }, 100); // Debounce resize events
    }

    // Initialize everything
    function initialize() {
      initializeImages();
      generateResponsivePositions();
      setRandomCursor();
    }

    // Wait for images to load before positioning
    window.addEventListener('load', initialize);
    window.addEventListener('resize', handleResize);

    // Fallback initialization
    if (document.readyState === 'complete') {
      initialize();
    }
  </script>

  <script src="https://unpkg.com/playhtml@latest/dist/playhtml.js"></script>
</body>
</html>